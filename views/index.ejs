<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Visual BI</title>
    <!-- Mobile viewport optimized -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<!-- Bootstrap CSS -->
		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<!-- Custom CSS -->
		<link href="stylesheets/style.css" rel="stylesheet">

		<!-- Include Modernizr in the head, before any other Javascript -->
		<script src="js/modernizr-2.6.2.min.js"></script>
    <!-- Include Angular in the head -->
		<script src="lib/angular/angular.min.js"></script>
    <!-- Include Angularjs UI-Bootstrap -->
    <script src="lib/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>

    <script src="angularApp.js" charset="utf-8"></script>
    <!-- Include ConnectionModelController.js -->
    <script src="services/addConnection.js"></script>
    <!-- Include ConnectionModelController.js -->
    <script src="services/getAvailableConnections.js"></script>
    <!-- Include ConnectionModelController.js -->
    <script src="services/saveConnection.js"></script>
    <script src="services/discover.js"></script>
    <!-- Include ConnectionModelController.js -->
    <script src="controllers/ConnectionModelController.js"></script>

  </head>
  <body>
    <div class="container-fluid" id="main" ng-app="hotChocolate">
      <div class="row">
        <div class="col-xs-3" id= "left-menu">
          <div id="left-menu-wrapper">
            <div class="connectionDiv" ng-controller="ConnectionModelController">
              <div class="connectionHeading row">
                <h4 id="cubeName">Connection </h4>
                <button type="button" id="Connection" ng-click="open()"><span class="glyphicon glyphicon-edit"></span></button>
              </div>
              <script type="text/ng-template" id="serverCredentials.html">
                <div class="modal-header row">
                    <h3 class="modal-title" ng-hide="addConnection">Server Credentials</h3>
                    <h3 class="modal-title" ng-show="addConnection">New Connection</h3>
                </div>
                <div class="modal-body row">
                  <div class= "selectConnection col-xs-8" ng-hide="addConnection">
                    <label for="availableConnections" class="modalLabel"> Connection Name: </label>
                    <select name="availableConnections" ng-model="connIndex">
                      <!-- <option value="select">select</option> -->
                      <option ng-repeat="conn in availableConnections" value="{{$index}}">{{conn.connectionName}}</option>
                    </select>
                    <br>
                    <label for="selectedConnUrl" class="modalLabel"> Server URL: </label>
                    <input name="selectedConnUrl" type="text"  value="{{availableConnections[connIndex].serverURL}}"></input>
                    <br>
                  </div>
                  <div class="addNewConnection col-xs-4" ng-hide="addConnection">
                    <button type="button" class="btn btn-md btn-primary" ng-click="addNewConnection()">
                     Add New connection
                   </button>
                  </div>

                  <!-- Div body for adding new connection -->
                  <div class="connectionForm" ng-show="addConnection">
                    <label for="connName" class="modalLabel"> Connection Name: </label>
                    <input name="connName" type="text" placeholder="User Defined Connection Name" ng-model="newConn.connName"></input>
                    <br>
                    <label for="url" class="modalLabel"> Server URL: </label>
                    <input name="url" type="text" placeholder="Server URL" ng-model="newConn.url"></input>
                    <br>
                    <label for="userId" class="modalLabel"> User ID: </label>
                    <input name="userId" type="text" placeholder="Connection User ID" ng-model="newConn.userid"></input>
                    <br>
                    <label for="password" class="modalLabel"> Password: </label>
                    <input name="password" type="password" placeholder="Password" ng-model="newConn.password"></input>
                    <br>
                  </div> <!-- End of ConnectionFormBody -->
                </div> <!-- End modal-body -->
                <div class="modal-footer row">
                    <button class="btn btn-primary" type="button" ng-click="save(availableConnections[connIndex])" ng-hide="addConnection">Save</button>
                    <button class="btn btn-primary" type="button" ng-click="addConn()" ng-show="addConnection">Add Connection</button>
                    <button class="btn btn-warning" type="button" ng-click="reset()" ng-show="addConnection">Reset</button>
                    <button class="btn btn-warning" type="button" ng-click="cancel()">cancel</button>
                </div>
              </script>

            <div id="head-div">
              <label for="DataSourceName" class="cubeLabel"> Data Source: </label>
              <select name="DataSourceName" ng-model="DataSourceName" ng-change="getCatalogNames(DataSourceName)">
                <option ng-repeat="DataSourceName in DataSourceNames" value="{{DataSourceName.unique_name}}">{{DataSourceName.caption_name}}</option>
              </select>
              <br>
              <label for="CatalogName" class="cubeLabel"> Catalog: </label>
              <select name="CatalogName" ng-model="CatalogName" ng-change="getCubeNames(DataSourceName, CatalogName)">
                <option ng-repeat="CatalogName in CatalogNames" value="{{CatalogName.unique_name}}">{{CatalogName.caption_name}}</option>
              </select>
              <br>
              <label for="CubeName" class="cubeLabel"> Cube: </label>
              <select name="CubeName" ng-model="CubeName" ng-change="getChildren(DataSourceName, CatalogName, CubeName)">
                <option ng-repeat="CubeName in CubeNames" value="{{CubeName.unique_name}}">{{CubeName.caption_name}}</option>
              </select>
              <br>
            </div> <!-- head-div end-->
          </div> <!-- End ConnectionDiv -->

            <!-- Dimentions -->
            <h4>Dimensions</h4>
            <div id='dim-div'>
              <!-- adding dimensions from json -->
              <ul class='nav nav-list-main dimensions'></ul>
            </div>
            <h4>Measures</h4>
            <div id="measures-div">
              <!-- adding measures from json -->
              <ul class='nav nav-list-main measures'></ul>
            </div>
          </div> <!-- left-menu-wrapper end-->
        </div> <!-- left-menu end-->
        <div class="col-xs-8" id="content">
          <div class="navbar navbar-fixed-top">
            <div class="btn-group" role="group">
              <!-- save query button-->
              <button type="button" class="btn btn-default navbar-btn" data-toggle="modal" data-target="#saveQueryModal">
                <span class="glyphicon glyphicon-floppy-disk"></span> Save
              </button>

              <button type="button" class="btn btn-default navbar-btn dropdown-toggle" data-toggle="dropdown">
                Queries <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" id="queryList">
                <li><a href="#">None</a></li>
              </ul>
              <button type="button" class="btn btn-default navbar-btn" id="executeButton"><span class="glyphicon glyphicon-play-circle" ></span> Execute</button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-floppy-disk"></span></button>
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-print"></span></button>
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-print"></span></button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-floppy-disk"></span></button>
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-print"></span></button>
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-download-alt"></span></button>
            </div>
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-floppy-disk"></span></button>
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-print"></span></button>
              <button type="button" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-download-alt"></span></button>
            </div>
          </div> <!-- navbar-end -->
          <div id="content-wrapper">
            <div class="row myRect">
              <div class="col-xs-2">
                <h4>Columns</h4>
              </div>
              <div class="col-xs-10 columns">
                <ul class="nav">
                  <li class="placeholder">Drag measures/dimensions here</li>
                </ul>
              </div> <!-- col-xs-10 end-->
            </div> <!-- myRect end-->
            <div class="row myRect">
              <div class="col-xs-2">
                <h4>Rows</h4>
              </div>
              <div class="col-xs-10 columns">
                <ul class="nav">
                  <li class="placeholder">Drag measures/dimensions here</li>
                </ul>
              </div> <!-- col-xs-10 end-->
            </div> <!-- myRect end-->
            <div class="row myRect">
              <div class="col-xs-2">
                <h4>Filters</h4>
              </div>
              <div class="col-xs-10 columns">
                <ul class="nav">
                  <li class="placeholder">Drag measures/dimensions here</li>
                </ul>
              </div> <!-- col-xs-10 end-->
            </div> <!-- myRect end-->
            <div class="row">
              <div class="col-xs-12">
                <div class="section_result">
                  <table id="dataTable">
                    <tbody id="dataTableBody">
                      <script id="axis0_insersion">
                      {{axis0}}
                      </script>
                      <script id="axis1_insersion">
                      {{axis1}}
                      </script>
                    </tbody>
                  </table>
                </div> <!-- section_result end-->
              </div> <!-- col-sm-12 end-->
            </div> <!-- row end-->
          </div> <!-- content-wrapper end-->
        </div> <!-- col-xs-8 end-->
        <div class="col-xs-1" id="right-menu">
          <div class="right-menu-wrapper">
            <div class="btn-group-vertical" role="group">
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-floppy-disk"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-print"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-download-alt"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-floppy-disk"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-print"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-download-alt"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-floppy-disk"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-print"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-download-alt"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-floppy-disk"></span></button>
              <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-print"></span></button>
              <button type="button" id="graph1" class="btn btn-default graph"><span class="glyphicon glyphicon-download-alt"></span></button>
            </div> <!-- btn-group end -->
          </div> <!-- menu-wrapper-end -->
        </div> <!-- right-menu end -->
      </div> <!-- row end-->
    </div> <!--container main end -->
    <!-- saveQueryModal-->
    <div class="modal fade" id="saveQueryModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Save Query</h4>
          </div>
          <div class="modal-body">
            <p>
              <label for="queryName">Query name</label>
              <input type="text" name="queryName" id="queryName" value="">
            </p>
            <div class="alert alert-warning alert-dismissible" role="alert">
              <button type="button" class="close">
                <span aria-hidden="true">&times;</span>
              </button>
              <strong></strong>
            </div>
          </div> <!-- modal-body end-->
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="saveQueryButton">Save</button>
          </div> <!-- modal-footer end -->
        </div> <!-- modal-content end -->
      </div> <!-- modal-dialog end -->
    </div> <!-- saveQueryModal end-->
  <!-- jquery -->
  <script src="js/jquery-2.1.4.js"></script>

  <!-- jquery-ui -->
  <script src="js/jquery-ui.min.js"></script>

  <!-- Bootstrap JS -->
  <script src="bootstrap/js/bootstrap.min.js"></script>

  <!-- D3 JS -->
  <script src="js/d3.js"></script>

  <!-- Render BarChart -->
  <script src="js/renderBarChart2.js"></script>

  <!-- implementing grid -->
  <script src="js/gridRendering.js"></script>

  <!-- Custom JS -->
  <script src='js/myscript2.js'></script>

  </body>
</html>
